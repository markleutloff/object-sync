{
  "version": 3,
  "sources": ["../build/shared/decorators.js", "../build/shared/messages.js", "../build/applicator/trackableTarget.js", "../build/shared/objectInfoBase.js", "../build/applicator/applicatorObjectInfo.js", "../build/applicator/applicator.js", "../build/tracker/decorators.js", "../build/shared/objectSyncMetaInfo.js", "../build/shared/trackedObjectPool.js", "../build/tracker/interfaces.js", "../build/shared/syncableArray.js", "../build/shared/eventEmitter.js", "../build/shared/syncableObservableArray.js", "../build/shared/types.js", "../build/tracker/trackerObjectInfo.js", "../build/tracker/tracker.js", "../build/shared/nativeTypeGenerators.js", "../build/objectSync/objectSync.js"],
  "sourcesContent": ["Symbol.metadata ??= Symbol(\"metadata\");\nexport {};\n", "export const isPropertyInfoSymbol = Symbol(\"isPropertyInfo\");\nexport function isPropertyInfo(value) {\n    return isPropertyInfoSymbol in value;\n}\n", "export const onCreated = Symbol(\"onCreated\");\nexport const onUpdated = Symbol(\"onUpdated\");\nexport const onUpdateProperty = Symbol(\"onUpdateProperty\");\nexport const onDelete = Symbol(\"onDelete\");\nexport const onDeleted = Symbol(\"onDeleted\");\nfunction hasOnCreated(obj) {\n    return onCreated in obj;\n}\nfunction hasOnDeleted(obj) {\n    return onDeleted in obj;\n}\nfunction hasOnDelete(obj) {\n    return onDelete in obj;\n}\nfunction hasOnUpdated(obj) {\n    return onUpdated in obj;\n}\nfunction hasOnUpdateProperty(obj) {\n    return onUpdateProperty in obj;\n}\nexport function invokeOnCreated(obj, changes, client, clientConnection) {\n    if (hasOnCreated(obj)) {\n        obj[onCreated](changes, client, clientConnection);\n    }\n}\nexport function invokeOnUpdated(obj, changes, client, clientConnection) {\n    if (hasOnUpdated(obj)) {\n        obj[onUpdated](changes, client, clientConnection);\n    }\n}\nexport function invokeOnDeleted(obj, client, clientConnection) {\n    if (hasOnDeleted(obj)) {\n        obj[onDeleted](client, clientConnection);\n    }\n}\nexport function invokeOnDelete(obj, client, clientConnection) {\n    if (hasOnDelete(obj)) {\n        obj[onDelete](client, clientConnection);\n    }\n    return true;\n}\nexport function invokeOnUpdateProperty(obj, key, value, isForCreate, client, clientConnection) {\n    if (hasOnUpdateProperty(obj)) {\n        return obj[onUpdateProperty](key, value, isForCreate, client, clientConnection);\n    }\n    return false;\n}\n", "export class ObjectInfoBase {\n    _objectSyncMetaInfo;\n    constructor(_objectSyncMetaInfo) {\n        this._objectSyncMetaInfo = _objectSyncMetaInfo;\n    }\n    get objectId() {\n        return this._objectSyncMetaInfo.objectId;\n    }\n    get typeId() {\n        return this._objectSyncMetaInfo.typeId;\n    }\n    get object() {\n        return this._objectSyncMetaInfo.object;\n    }\n    get objectSyncMetaInfo() {\n        return this._objectSyncMetaInfo;\n    }\n}\n", "import { ObjectInfoBase } from \"../shared/objectInfoBase.js\";\nexport class ApplicatorObjectInfo extends ObjectInfoBase {\n    _applicator;\n    constructor(objectSyncMetaInfo, _applicator) {\n        super(objectSyncMetaInfo);\n        this._applicator = _applicator;\n    }\n    get applicator() {\n        return this._applicator;\n    }\n}\n", "import { checkCanApplyProperty, getSyncMethodInfo, getSyncPropertyInfo } from \"../tracker/decorators.js\";\nimport { ensureObjectSyncMetaInfo, getObjectSyncMetaInfo } from \"../shared/objectSyncMetaInfo.js\";\nimport { invokeOnCreated, invokeOnDeleted, invokeOnUpdated, invokeOnUpdateProperty, invokeOnDelete } from \"./trackableTarget.js\";\nimport { ApplicatorObjectInfo } from \"./applicatorObjectInfo.js\";\nexport const allTypeGenerators = new Map();\nfunction isGeneratorConstructor(value) {\n    return value.prototype !== undefined;\n}\nfunction isGeneratorTargetGenerator(value) {\n    return true;\n}\nexport class ObjectChangeApplicator {\n    _trackedObjectPool;\n    _pendingCreationMessages = new Map();\n    _currentClientApplyResult = { newTrackedObjects: [], methodExecuteResults: [] };\n    _settings;\n    _typeGenerators;\n    _typeSerializers;\n    _nativeTypeSerializers;\n    constructor(settings) {\n        this._settings = {\n            identity: settings.identity,\n        };\n        this._trackedObjectPool = settings.objectPool;\n        this._typeSerializers = settings.typeSerializers;\n        this._nativeTypeSerializers = settings.nativeTypeSerializers;\n        this._typeGenerators = settings.typeGenerators;\n    }\n    get settings() {\n        return this._settings;\n    }\n    get identity() {\n        return this._settings.identity;\n    }\n    registerGenerator(typeId, generator) {\n        if (this._typeGenerators.has(typeId)) {\n            throw new Error(`Generator for typeId ${typeId} is already registered`);\n        }\n        this._typeGenerators.set(typeId, generator);\n    }\n    async applyAsync(messages, clientConnection) {\n        messages.sort((a, b) => {\n            if (a.type === b.type)\n                return 0;\n            if (a.type === \"create\")\n                return -1;\n            if (b.type === \"create\")\n                return 1;\n            if (a.type === \"change\")\n                return -1;\n            if (b.type === \"change\")\n                return 1;\n            if (a.type === \"execute\")\n                return -1;\n            if (b.type === \"execute\")\n                return 1;\n            if (a.type === \"delete\")\n                return 1;\n            if (b.type === \"delete\")\n                return -1;\n            return 0;\n        });\n        const creationMessages = messages.filter(isCreateObjectMessage);\n        messages = messages.filter((m) => !isCreateObjectMessage(m));\n        for (const creationMessage of creationMessages) {\n            this._pendingCreationMessages.set(creationMessage.objectId, creationMessage);\n        }\n        while (this._pendingCreationMessages.size > 0) {\n            const creationMessage = this._pendingCreationMessages.values().next().value;\n            this.createNewTrackedObject(creationMessage, clientConnection);\n        }\n        for (const message of messages) {\n            if (isChangeObjectMessage(message))\n                this.handleChanges(message, clientConnection);\n            else if (isDeleteObjectMessage(message))\n                this.deleteTrackedObject(message, clientConnection);\n            else if (isExecuteObjectMessage(message))\n                await this.executeMethodAsync(message, clientConnection);\n        }\n        const result = this._currentClientApplyResult;\n        this._currentClientApplyResult = { newTrackedObjects: [], methodExecuteResults: [] };\n        return result;\n    }\n    getPropertyValue(property, clientConnection) {\n        const { objectId, value, typeId } = property;\n        if (typeId) {\n            return this.deserializeValue(typeId, value, clientConnection);\n        }\n        if (objectId !== undefined && objectId !== null) {\n            let tracked = this._trackedObjectPool.get(objectId);\n            if (!tracked) {\n                const pendingMsg = this._pendingCreationMessages.get(objectId);\n                if (pendingMsg) {\n                    this.createNewTrackedObject(pendingMsg, clientConnection);\n                    tracked = this._trackedObjectPool.get(objectId);\n                }\n            }\n            if (!tracked) {\n                throw new Error(`Cannot find or create target with id ${objectId}`);\n            }\n            return tracked;\n        }\n        return value;\n    }\n    findObjectOfType(constructor, objectId) {\n        for (const tracked of this._trackedObjectPool.all) {\n            if (tracked instanceof constructor) {\n                const metaInfo = getObjectSyncMetaInfo(tracked);\n                if (objectId !== undefined && metaInfo.objectId !== objectId)\n                    continue;\n                return tracked;\n            }\n        }\n        return null;\n    }\n    findObjectsOfType(constructor) {\n        const results = [];\n        for (const tracked of this._trackedObjectPool.all) {\n            if (tracked instanceof constructor) {\n                results.push(tracked);\n            }\n        }\n        return results;\n    }\n    get allTrackedObjects() {\n        return Array.from(this._trackedObjectPool.all);\n    }\n    deleteTrackedObject(data, clientConnection) {\n        if (!isDeleteObjectMessage(data))\n            return;\n        if (!this._trackedObjectPool.hasById(data.objectId)) {\n            throw new Error(`Object with id ${data.objectId} is not being tracked`);\n        }\n        const tracked = this._trackedObjectPool.get(data.objectId);\n        if (!invokeOnDelete(tracked, this, clientConnection))\n            return;\n        this._trackedObjectPool.deleteById(data.objectId);\n        invokeOnDeleted(tracked, this, clientConnection);\n    }\n    constructObject(data, clientConnection) {\n        if (this._trackedObjectPool.hasById(data.objectId)) {\n            return;\n        }\n        let result = null;\n        const generatorOrConstructor = this._typeGenerators.get(data.typeId);\n        if (!generatorOrConstructor) {\n            throw new Error(`No constructor or generator registered for typeId ${data.typeId}`);\n        }\n        if (isGeneratorConstructor(generatorOrConstructor)) {\n            result = new generatorOrConstructor();\n        }\n        else if (isGeneratorTargetGenerator(generatorOrConstructor)) {\n            const resolvablePropertyInfos = this.createResolvablePropertyInfos(data.properties, clientConnection);\n            result = generatorOrConstructor(this, resolvablePropertyInfos, data.objectId, data.typeId);\n            resolvablePropertyInfos.deletedProperties.forEach((key) => {\n                delete result[key];\n            });\n        }\n        if (!result)\n            return;\n        const objectInfo = ensureObjectSyncMetaInfo({\n            object: result,\n            objectId: data.objectId,\n            typeId: data.typeId,\n        });\n        objectInfo.applicatorInfo = new ApplicatorObjectInfo(objectInfo, this);\n        if (!this._trackedObjectPool.has(result)) {\n            this._trackedObjectPool.add(result);\n            this._currentClientApplyResult.newTrackedObjects.push(result);\n        }\n        return;\n    }\n    createResolvablePropertyInfos(unresolvedProperties, clientConnection) {\n        const deletedProperties = new Set();\n        const properties = {\n            deleteProperty(key) {\n                deletedProperties.add(key);\n            },\n            get deletedProperties() {\n                return Array.from(deletedProperties);\n            },\n        };\n        Object.keys(unresolvedProperties).forEach((key) => {\n            const propertyInfo = unresolvedProperties[key];\n            let resolvedValue = undefined;\n            let hasResolved = false;\n            Object.defineProperty(properties, key, {\n                get: () => {\n                    if (!hasResolved) {\n                        hasResolved = true;\n                        resolvedValue = this.getPropertyValue(propertyInfo, clientConnection);\n                    }\n                    return resolvedValue;\n                },\n            });\n        });\n        return properties;\n    }\n    createNewTrackedObject(data, clientConnection) {\n        if (!isCreateObjectMessage(data))\n            return;\n        this._pendingCreationMessages.delete(data.objectId);\n        this.constructObject(data, clientConnection);\n        this.handleChanges(data, clientConnection);\n    }\n    handleChanges(data, clientConnection) {\n        const isCreate = isCreateObjectMessage(data);\n        const isChange = isChangeObjectMessage(data);\n        if (!isCreate && !isChange)\n            return;\n        const tracked = this._trackedObjectPool.get(data.objectId);\n        if (!tracked) {\n            throw new Error(`Cannot find target with id ${data.objectId}`);\n        }\n        Object.keys(data.properties).forEach((key) => {\n            if (!checkCanApplyProperty(tracked.constructor, tracked, key, false, clientConnection))\n                return;\n            const property = data.properties[key];\n            const finalValue = this.getPropertyValue(property, clientConnection);\n            const propertyInfo = getSyncPropertyInfo(tracked.constructor, key);\n            if (propertyInfo)\n                propertyInfo.isBeeingApplied = true;\n            try {\n                if (!invokeOnUpdateProperty(tracked, key, finalValue, isCreate, this, clientConnection))\n                    tracked[key] = finalValue;\n            }\n            finally {\n                if (propertyInfo)\n                    propertyInfo.isBeeingApplied = false;\n            }\n        });\n        if (isChange)\n            invokeOnUpdated(tracked, data, this, clientConnection);\n        else if (isCreate)\n            invokeOnCreated(tracked, data, this, clientConnection);\n    }\n    async executeMethodAsync(data, clientConnection) {\n        if (!isExecuteObjectMessage(data))\n            return;\n        const tracked = this._trackedObjectPool.get(data.objectId);\n        if (!tracked) {\n            throw new Error(`Cannot find target with id ${data.objectId}`);\n        }\n        if (!checkCanApplyProperty(tracked.constructor, tracked, data.method, true, clientConnection)) {\n            this._currentClientApplyResult.methodExecuteResults.push({ objectId: data.objectId, id: data.id, result: null, status: \"rejected\", error: \"Not allowed.\" });\n            return;\n        }\n        if (typeof tracked[data.method] !== \"function\") {\n            throw new Error(`Target with id ${data.objectId} has no method ${data.method}`);\n        }\n        const methodInfo = getSyncMethodInfo(tracked.constructor, data.method);\n        const args = data.parameters.map((property) => this.getPropertyValue(property, clientConnection));\n        let result;\n        try {\n            if (methodInfo)\n                methodInfo.isBeeingApplied = true;\n            result = tracked[data.method](...args);\n        }\n        catch (e) {\n            this._currentClientApplyResult.methodExecuteResults.push({ objectId: data.objectId, id: data.id, result: null, status: \"rejected\", error: e });\n            return;\n        }\n        finally {\n            if (methodInfo)\n                methodInfo.isBeeingApplied = false;\n        }\n        if (result && typeof result.then === \"function\" && typeof result.catch === \"function\") {\n            const promiseHandlingType = getSyncMethodInfo(tracked.constructor, data.method)?.promiseHandlingType ?? \"normal\";\n            const resolveNow = promiseHandlingType === \"await\";\n            if (resolveNow) {\n                try {\n                    const resolved = await result;\n                    this._currentClientApplyResult.methodExecuteResults.push({ objectId: data.objectId, id: data.id, result: resolved, status: \"resolved\", error: null });\n                }\n                catch (error) {\n                    this._currentClientApplyResult.methodExecuteResults.push({ objectId: data.objectId, id: data.id, result: null, status: \"rejected\", error: error });\n                }\n            }\n            else {\n                result\n                    .then((resolved) => {\n                    this._currentClientApplyResult.methodExecuteResults.push({ objectId: data.objectId, id: data.id, result: resolved, status: \"resolved\", error: null });\n                })\n                    .catch((error) => {\n                    this._currentClientApplyResult.methodExecuteResults.push({ objectId: data.objectId, id: data.id, result: null, status: \"rejected\", error: error });\n                });\n            }\n        }\n        else {\n            this._currentClientApplyResult.methodExecuteResults.push({ objectId: data.objectId, id: data.id, result, status: \"resolved\", error: null });\n        }\n    }\n    deserializeValue(typeId, value, clientConnection) {\n        const generator = this._typeSerializers.get(typeId) ?? this._nativeTypeSerializers.find((g) => g.typeId === typeId);\n        if (!generator) {\n            throw new Error(`No deserializer registered for typeId ${typeId}`);\n        }\n        if (generator.deserialize)\n            return generator.deserialize(value, this, clientConnection);\n        else\n            return new generator.type(value);\n    }\n}\nfunction isDeleteObjectMessage(change) {\n    return change.type === \"delete\";\n}\nfunction isCreateObjectMessage(change) {\n    return change.type === \"create\";\n}\nfunction isChangeObjectMessage(change) {\n    return change.type === \"change\";\n}\nfunction isExecuteObjectMessage(change) {\n    return change.type === \"execute\";\n}\n", "import \"../shared/decorators.js\";\nimport { allTypeGenerators } from \"../applicator/applicator.js\";\nimport { getObjectSyncMetaInfo } from \"../shared/objectSyncMetaInfo.js\";\nconst TRACKABLE_CONSTRUCTOR_INFO = Symbol(\"trackableConstructor\");\nexport const nothing = Symbol(\"nothing\");\nexport function syncProperty(settings) {\n    settings ??= {};\n    return function syncProperty(target, context) {\n        const trackableInfo = ensureTrackableConstructorInfo(context.metadata);\n        const propertyInfo = {\n            ...settings,\n            isBeeingApplied: false,\n        };\n        const propertyName = context.name;\n        trackableInfo.trackedProperties.set(propertyName, propertyInfo);\n        const result = {\n            set(value) {\n                const isBeeingApplied = propertyInfo.isBeeingApplied;\n                propertyInfo.isBeeingApplied = false;\n                target.set.call(this, value);\n                if (isBeeingApplied || propertyInfo.mode === \"none\" || propertyInfo.mode === \"applyOnly\")\n                    return;\n                const host = getObjectSyncMetaInfo(this)?.trackerInfo;\n                if (host && checkCanTrackPropertyInfo(propertyInfo, this, propertyName, host)) {\n                    host.onPropertyChanged(context.name, value);\n                }\n            },\n        };\n        return result;\n    };\n}\nexport function syncMethod(settings) {\n    settings ??= {};\n    return function syncMethod(target, context) {\n        const trackableInfo = ensureTrackableConstructorInfo(context.metadata);\n        const methodInfo = {\n            ...settings,\n            isBeeingApplied: false,\n        };\n        const methodName = context.name;\n        trackableInfo.trackedMethods.set(methodName, methodInfo);\n        const originalMethod = target;\n        const func = function (...args) {\n            const isBeeingApplied = methodInfo.isBeeingApplied;\n            methodInfo.isBeeingApplied = false;\n            const result = originalMethod.apply(this, args);\n            if (isBeeingApplied || methodInfo.mode === \"none\" || methodInfo.mode === \"applyOnly\")\n                return result;\n            const hostInfo = getObjectSyncMetaInfo(this)?.trackerInfo;\n            if (hostInfo && checkCanTrackPropertyInfo(methodInfo, this, methodName, hostInfo)) {\n                hostInfo.onMethodExecute(context.name, args);\n            }\n            return result;\n        };\n        return func;\n    };\n}\nexport function getTrackableTypeInfo(ctor) {\n    const trackableInfo = ctor[Symbol.metadata]?.[TRACKABLE_CONSTRUCTOR_INFO];\n    return trackableInfo ?? null;\n}\nexport function syncObject(settings) {\n    return function syncObject(target, context) {\n        settings ??= {};\n        settings.typeId ??= context.name;\n        const trackableInfo = ensureTrackableConstructorInfo(context.metadata);\n        trackableInfo.typeId = settings.typeId;\n        trackableInfo.beforeSendToClient = settings.beforeSendToClient;\n        if (settings.properties) {\n            for (const [propertyKey, propertySettings] of Object.entries(settings.properties)) {\n                trackableInfo.trackedProperties.set(propertyKey, {\n                    ...propertySettings,\n                    isBeeingApplied: false,\n                });\n            }\n        }\n        if (settings.methods) {\n            for (const [methodKey, methodSettings] of Object.entries(settings.methods)) {\n                trackableInfo.trackedMethods.set(methodKey, {\n                    ...methodSettings,\n                    isBeeingApplied: false,\n                });\n            }\n        }\n        allTypeGenerators.set(settings.typeId, settings.generator ?? target);\n    };\n}\nfunction ensureTrackableConstructorInfo(metadata) {\n    const oldTrackableInfo = (metadata[TRACKABLE_CONSTRUCTOR_INFO] ?? {\n        trackedProperties: new Map(),\n        trackedMethods: new Map(),\n        isAutoTrackable: false,\n        beforeSendToClient: undefined,\n    });\n    const newTrackableInfo = {\n        trackedProperties: new Map(oldTrackableInfo.trackedProperties),\n        trackedMethods: new Map(oldTrackableInfo.trackedMethods),\n        typeId: oldTrackableInfo.typeId,\n        beforeSendToClient: oldTrackableInfo.beforeSendToClient,\n    };\n    metadata[TRACKABLE_CONSTRUCTOR_INFO] = newTrackableInfo;\n    return newTrackableInfo;\n}\nexport function getSyncPropertyInfo(constructor, propertyKey) {\n    const constructorInfo = getTrackableTypeInfo(constructor);\n    if (!constructorInfo) {\n        return null;\n    }\n    const propertyInfo = constructorInfo.trackedProperties.get(propertyKey);\n    return propertyInfo ?? null;\n}\nexport function getSyncMethodInfo(constructor, propertyKey) {\n    const constructorInfo = getTrackableTypeInfo(constructor);\n    if (!constructorInfo) {\n        return null;\n    }\n    const propertyInfo = constructorInfo.trackedMethods.get(propertyKey);\n    return propertyInfo ?? null;\n}\nexport function checkCanApplyProperty(constructor, instance, propertyKey, isMethod, sourceClientConnection) {\n    const constructorInfo = getTrackableTypeInfo(constructor);\n    if (!constructorInfo)\n        return false;\n    const propertyInfo = isMethod ? constructorInfo.trackedMethods.get(propertyKey) : constructorInfo.trackedProperties.get(propertyKey);\n    if (!propertyInfo)\n        return false;\n    if (propertyInfo.mode === \"none\" || propertyInfo.mode === \"trackOnly\")\n        return;\n    if (propertyInfo.canApply?.call(instance, { instance, key: propertyKey, sourceClientConnection }) === false)\n        return false;\n    return true;\n}\nexport function checkCanTrackProperty(constructor, instance, propertyKey, isMethod, info) {\n    const constructorInfo = getTrackableTypeInfo(constructor);\n    if (!constructorInfo) {\n        return false;\n    }\n    const propertyInfo = isMethod ? constructorInfo.trackedMethods.get(propertyKey) : constructorInfo.trackedProperties.get(propertyKey);\n    return checkCanTrackPropertyInfo(propertyInfo, instance, propertyKey, info);\n}\nfunction checkCanTrackPropertyInfo(propertyInfo, instance, propertyKey, info) {\n    if (!propertyInfo) {\n        return false;\n    }\n    if (propertyInfo.canTrack?.call(instance, { instance, key: propertyKey, info }) === false) {\n        return false;\n    }\n    return true;\n}\nexport function beforeExecuteOnClient(constructor, instance, methodKey, args, destinationClientConnection) {\n    const constructorInfo = getTrackableTypeInfo(constructor);\n    if (!constructorInfo) {\n        return false;\n    }\n    const methodInfo = constructorInfo.trackedMethods.get(methodKey);\n    if (!methodInfo) {\n        return false;\n    }\n    if (methodInfo.beforeExecuteOnClient?.call(instance, { instance, key: methodKey, args, destinationClientConnection }) === false) {\n        return false;\n    }\n    return true;\n}\nexport function beforeSendPropertyToClient(constructor, instance, propertyKey, value, destinationClientConnection) {\n    const constructorInfo = getTrackableTypeInfo(constructor);\n    if (!constructorInfo) {\n        return nothing;\n    }\n    const propertyInfo = constructorInfo.trackedProperties.get(propertyKey);\n    if (!propertyInfo) {\n        return nothing;\n    }\n    if (!propertyInfo.beforeSendToClient) {\n        return value;\n    }\n    return propertyInfo.beforeSendToClient.call(instance, { instance, key: propertyKey, value, destinationClientConnection });\n}\nexport function beforeSendObjectToClient(constructor, instance, typeId, destinationClientConnection) {\n    const constructorInfo = getTrackableTypeInfo(constructor);\n    if (!constructorInfo) {\n        return nothing;\n    }\n    if (!constructorInfo.beforeSendToClient) {\n        return typeId;\n    }\n    const result = constructorInfo.beforeSendToClient.call(instance, { instance, constructor, typeId, destinationClientConnection });\n    if (result === null || result === undefined || result === nothing) {\n        return nothing;\n    }\n    if (typeof result === \"string\") {\n        return result;\n    }\n    if (typeof result === \"function\") {\n        const newConstructorInfo = getTrackableTypeInfo(result);\n        if (newConstructorInfo && newConstructorInfo.typeId) {\n            return newConstructorInfo.typeId;\n        }\n        throw new Error(`The constructor returned from beforeSendToClient does not have a typeId.`);\n    }\n    return typeId;\n}\n", "import { getTrackableTypeInfo } from \"../tracker/decorators.js\";\nexport const objectSyncSymbol = Symbol(\"objectSync\");\nexport function getObjectSyncMetaInfo(target) {\n    if (!target || typeof target !== \"object\")\n        return undefined;\n    if (typeof target === \"function\")\n        return undefined;\n    return target[objectSyncSymbol];\n}\nlet nextObjectId = 1;\nexport function createObjectId(objectIdPrefix) {\n    return `${objectIdPrefix}${nextObjectId++}`;\n}\nexport function ensureObjectSyncMetaInfo(settings) {\n    let metaInfo = getObjectSyncMetaInfo(settings.object);\n    if (metaInfo)\n        return metaInfo;\n    if (!(\"objectId\" in settings) && !(\"objectIdPrefix\" in settings)) {\n        throw new Error(\"objectIdPrefix must be provided when objectId is provided\");\n    }\n    const typeId = settings.typeId ?? getTrackableTypeInfo(settings.object.constructor)?.typeId ?? settings.object.constructor.name;\n    const objectId = settings.objectId ?? createObjectId(settings.objectIdPrefix);\n    metaInfo = {\n        objectId,\n        typeId,\n        object: settings.object,\n    };\n    settings.object[objectSyncSymbol] = metaInfo;\n    return metaInfo;\n}\nexport function getTrackerObjectInfo(obj) {\n    return getObjectSyncMetaInfo(obj)?.trackerInfo ?? null;\n}\nexport function getApplicatorObjectInfo(obj) {\n    return getObjectSyncMetaInfo(obj)?.applicatorInfo ?? null;\n}\n", "import { getObjectSyncMetaInfo } from \"./objectSyncMetaInfo.js\";\nexport class TrackedObjectPool {\n    _trackedObjectInfos = new Map();\n    add(object) {\n        const metaInfo = getObjectSyncMetaInfo(object);\n        if (!metaInfo)\n            throw new Error(\"Object is not trackable.\");\n        if (this.hasById(metaInfo?.objectId))\n            return;\n        this._trackedObjectInfos.set(metaInfo.objectId, metaInfo);\n    }\n    delete(object) {\n        const metaInfo = getObjectSyncMetaInfo(object);\n        if (!metaInfo)\n            return false;\n        return this._trackedObjectInfos.delete(metaInfo.objectId);\n    }\n    deleteById(objectId) {\n        return this._trackedObjectInfos.delete(objectId);\n    }\n    get(objectId) {\n        const metaInfo = this._trackedObjectInfos.get(objectId);\n        return metaInfo?.object ?? null;\n    }\n    has(object) {\n        const metaInfo = getObjectSyncMetaInfo(object);\n        if (!metaInfo)\n            return false;\n        return this._trackedObjectInfos.has(metaInfo.objectId);\n    }\n    hasById(objectId) {\n        return this._trackedObjectInfos.has(objectId);\n    }\n    get allMetaInfos() {\n        const result = [];\n        this._trackedObjectInfos.forEach((info) => result.push(info));\n        return result;\n    }\n    get all() {\n        const result = [];\n        this._trackedObjectInfos.forEach((info) => result.push(info.object));\n        return result;\n    }\n}\n", "export const onConvertedToTrackable = Symbol(\"onConvertedToTrackable\");\nexport const onTick = Symbol(\"onTick\");\nfunction hasOnConvertedToTrackable(obj) {\n    return onConvertedToTrackable in obj;\n}\nfunction hasOnTick(obj) {\n    return onTick in obj;\n}\nexport function invokeOnConvertedToTrackable(obj, info) {\n    if (hasOnConvertedToTrackable(obj)) {\n        obj[onConvertedToTrackable](info);\n    }\n}\nexport function invokeOnTick(obj) {\n    if (hasOnTick(obj)) {\n        obj[onTick]();\n    }\n}\n", "var __esDecorate = (this && this.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nvar __runInitializers = (this && this.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\nimport { onUpdateProperty } from \"../applicator/trackableTarget.js\";\nimport { syncObject } from \"../tracker/decorators.js\";\nimport { onConvertedToTrackable, onTick } from \"../tracker/interfaces.js\";\nimport { isPropertyInfoSymbol } from \"./messages.js\";\nimport { getTrackerObjectInfo } from \"./objectSyncMetaInfo.js\";\nlet SyncableArray = (() => {\n    let _classDecorators = [syncObject({\n            typeId: \"SyncableArray\",\n            properties: {\n                _changes: {},\n                _creation: {},\n            },\n        })];\n    let _classDescriptor;\n    let _classExtraInitializers = [];\n    let _classThis;\n    var SyncableArray = class {\n        static { _classThis = this; }\n        static {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n            __esDecorate(null, _classDescriptor = { value: _classThis }, _classDecorators, { kind: \"class\", name: _classThis.name, metadata: _metadata }, null, _classExtraInitializers);\n            SyncableArray = _classThis = _classDescriptor.value;\n            if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n            __runInitializers(_classThis, _classExtraInitializers);\n        }\n        _values = [];\n        _changes = [];\n        _creation = [];\n        constructor(initial = []) {\n            this.push(...initial);\n        }\n        get value() {\n            return this._values;\n        }\n        set value(value) {\n            this.clear();\n            this.push(...value);\n        }\n        clear() {\n            this.length = 0;\n        }\n        changeAt(index, value) {\n            this._values[index] = value;\n            this.onRemoved(index, [value]);\n            this.onAdded(index, [value]);\n            const hostObjectInfo = getTrackerObjectInfo(this);\n            if (hostObjectInfo) {\n                this._creation[index] = this.convertItemToPropertyInfo(hostObjectInfo, value);\n                this.addChange({ start: index, deleteCount: 1, items: this.convertItemsToPropertyInfos(hostObjectInfo, [value]) });\n            }\n        }\n        get length() {\n            return this._values.length;\n        }\n        set length(value) {\n            if (value < this._values.length) {\n                this.splice(value, this._values.length - value);\n            }\n            else if (value > this._values.length) {\n                this.push(...new globalThis.Array(value - this._values.length).fill(undefined));\n            }\n        }\n        push(...items) {\n            if (items.length === 0)\n                return this._values.length;\n            const startIndex = this._values.length;\n            this._values.push(...items);\n            const hostObjectInfo = getTrackerObjectInfo(this);\n            if (hostObjectInfo) {\n                this._creation.push(...this.convertItemsToPropertyInfos(hostObjectInfo, items));\n                this.addChange({ start: startIndex, deleteCount: 0, items: this.convertItemsToPropertyInfos(hostObjectInfo, items) });\n            }\n            this.onAdded(startIndex, items);\n            return this._values.length;\n        }\n        convertPropertyInfosToItems(items, client, clientConnection) {\n            return items.map((item) => client.getPropertyValue(item, clientConnection));\n        }\n        splice(start, deleteCount, ...items) {\n            deleteCount ??= this._values.length - start;\n            if (deleteCount === 0 && items.length === 0)\n                return [];\n            const removedItems = this._values.splice(start, deleteCount, ...items);\n            if (removedItems.length > 0)\n                this.onRemoved(start, removedItems);\n            if (items.length > 0)\n                this.onAdded(start, items);\n            const hostObjectInfo = getTrackerObjectInfo(this);\n            if (hostObjectInfo) {\n                const convertedItems = this.convertItemsToPropertyInfos(hostObjectInfo, items);\n                this._creation.splice(start, deleteCount, ...convertedItems);\n                this.addChange({ start, deleteCount, items: convertedItems });\n            }\n            return removedItems;\n        }\n        addChange(pendingChange) {\n            this.onPropertyChanged(\"_changes\", this._changes);\n            while (pendingChange) {\n                const lastChange = this._changes[this._changes.length - 1];\n                if (!lastChange) {\n                    this._changes.push(pendingChange);\n                    return;\n                }\n                if (lastChange.deleteCount === 0 && pendingChange.deleteCount === 0 && lastChange.start + lastChange.items.length === pendingChange.start) {\n                    lastChange.items.push(...pendingChange.items);\n                    pendingChange = this._changes.pop();\n                    continue;\n                }\n                if (lastChange.deleteCount === 0 &&\n                    pendingChange.deleteCount > 0 &&\n                    pendingChange.items.length === 0 &&\n                    lastChange.start + lastChange.items.length === pendingChange.start + pendingChange.deleteCount &&\n                    pendingChange.start >= lastChange.start) {\n                    const removeCount = pendingChange.deleteCount;\n                    const newLength = lastChange.items.length - removeCount;\n                    if (newLength > 0) {\n                        lastChange.items.length = newLength;\n                        pendingChange = this._changes.pop();\n                        continue;\n                    }\n                    else {\n                        this._changes.pop();\n                        pendingChange = pendingChange;\n                        continue;\n                    }\n                }\n                if (lastChange.deleteCount === 0 &&\n                    pendingChange.deleteCount > 0 &&\n                    pendingChange.items.length === 0 &&\n                    pendingChange.start >= lastChange.start &&\n                    pendingChange.start < lastChange.start + lastChange.items.length &&\n                    pendingChange.start + pendingChange.deleteCount <= lastChange.start + lastChange.items.length) {\n                    const relativeStart = pendingChange.start - lastChange.start;\n                    lastChange.items.splice(relativeStart, pendingChange.deleteCount);\n                    pendingChange = this._changes.pop();\n                    continue;\n                }\n                this._changes.push(pendingChange);\n                return;\n            }\n        }\n        convertItemsToPropertyInfos(serverObjectInfo, items) {\n            return items.map((item) => this.convertItemToPropertyInfo(serverObjectInfo, item));\n        }\n        convertItemToPropertyInfo(serverObjectInfo, item) {\n            const metaInfo = serverObjectInfo.convertToTrackableObjectReference(item);\n            const transformed = {\n                value: item,\n                objectId: metaInfo?.objectId,\n                [isPropertyInfoSymbol]: true,\n            };\n            return transformed;\n        }\n        [Symbol.iterator]() {\n            return this._values[Symbol.iterator]();\n        }\n        onPropertyChanged(property, value) {\n            const host = getTrackerObjectInfo(this);\n            if (!host)\n                return;\n            host.onPropertyChanged(property, value);\n        }\n        [onTick]() {\n            this._changes = [];\n        }\n        [onConvertedToTrackable](hostObjectInfo) {\n            this._creation = [...this.convertItemsToPropertyInfos(hostObjectInfo, this._values)];\n            this.onPropertyChanged(\"_creation\", this._creation);\n            this.onPropertyChanged(\"_changes\", this._changes);\n        }\n        [onUpdateProperty](key, value, isForCreate, client, clientConnection) {\n            if (isForCreate && key === \"_creation\") {\n                this.value = this.convertPropertyInfosToItems(value, client, clientConnection);\n            }\n            else if (!isForCreate && key === \"_changes\") {\n                this.applyTrackableArrayChanges(this._values, value, client, clientConnection);\n            }\n            return true;\n        }\n        applyTrackableArrayChanges(arr, changes, client, clientConnection) {\n            for (const change of changes) {\n                const newItems = this.convertPropertyInfosToItems(change.items, client, clientConnection);\n                const removedItems = arr.splice(change.start, change.deleteCount, ...newItems);\n                if (removedItems.length > 0)\n                    this.onRemoved(change.start, removedItems);\n                if (change.items.length > 0)\n                    this.onAdded(change.start, newItems);\n            }\n            return arr;\n        }\n        toJSON() {\n            return this._values;\n        }\n        toValue() {\n            return this._values;\n        }\n        onRemoved(start, items) {\n        }\n        onAdded(start, items) {\n        }\n    };\n    return SyncableArray = _classThis;\n})();\nexport { SyncableArray };\n", "export class EventEmitter {\n    _events = {};\n    on(event, callback) {\n        if (!this._events[event])\n            this._events[event] = [callback];\n        else\n            this._events[event].push(callback);\n        this.onEventListenerAdded(event, callback);\n    }\n    once(event, callback) {\n        const onceCallback = ((...args) => {\n            this.off(event, onceCallback);\n            callback(...args);\n        });\n        this.on(event, onceCallback);\n    }\n    off(event, callback) {\n        if (!this._events[event])\n            return;\n        this._events[event] = this._events[event].filter((cb) => cb !== callback);\n        this.onEventListenerRemoved(event, callback);\n    }\n    listenerCount(event, callback) {\n        if (!this._events[event])\n            return 0;\n        if (!callback)\n            return this._events[event].length;\n        return this._events[event].filter((cb) => cb === callback).length;\n    }\n    emit(event, ...args) {\n        if (!this._events[event])\n            return;\n        for (const callback of this._events[event]) {\n            callback(...args);\n        }\n    }\n    onEventListenerAdded(event, callback) {\n    }\n    onEventListenerRemoved(event, callback) {\n    }\n}\n", "var __esDecorate = (this && this.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nvar __runInitializers = (this && this.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\nimport { syncObject } from \"../tracker/decorators.js\";\nimport { SyncableArray } from \"./syncableArray.js\";\nimport { EventEmitter } from \"./eventEmitter.js\";\nlet SyncableObservableArray = (() => {\n    let _classDecorators = [syncObject({\n            typeId: \"SyncableObservableArray\",\n        })];\n    let _classDescriptor;\n    let _classExtraInitializers = [];\n    let _classThis;\n    let _classSuper = SyncableArray;\n    var SyncableObservableArray = class extends _classSuper {\n        static { _classThis = this; }\n        static {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(_classSuper[Symbol.metadata] ?? null) : void 0;\n            __esDecorate(null, _classDescriptor = { value: _classThis }, _classDecorators, { kind: \"class\", name: _classThis.name, metadata: _metadata }, null, _classExtraInitializers);\n            SyncableObservableArray = _classThis = _classDescriptor.value;\n            if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n            __runInitializers(_classThis, _classExtraInitializers);\n        }\n        _eventEmitter = new EventEmitter();\n        constructor(initial = []) {\n            super();\n            this.push(...initial);\n        }\n        onRemoved(start, items) {\n            this._eventEmitter.emit(\"removed\", items, start);\n        }\n        onAdded(start, items) {\n            this._eventEmitter.emit(\"added\", items, start);\n        }\n        on(event, callback) {\n            this._eventEmitter.on(event, callback);\n        }\n        once(event, callback) {\n            this._eventEmitter.once(event, callback);\n        }\n        off(event, callback) {\n            this._eventEmitter.off(event, callback);\n        }\n        listenerCount(event, callback) {\n            return this._eventEmitter.listenerCount(event, callback);\n        }\n    };\n    return SyncableObservableArray = _classThis;\n})();\nexport { SyncableObservableArray };\n", "export function isIterable(input) {\n    return input && Symbol.iterator in Object(input) && typeof input !== \"string\";\n}\nexport function toIterable(input, preferSet = false) {\n    if (isIterable(input)) {\n        return input;\n    }\n    return (preferSet ? new Set([input]) : [input]);\n}\nexport function forEachIterable(input, callback) {\n    for (const item of toIterable(input)) {\n        callback(item);\n    }\n}\nexport function mapIterable(input, mapper) {\n    const result = [];\n    for (const item of toIterable(input)) {\n        result.push(mapper(item));\n    }\n    return result;\n}\nexport function filterIterable(input, predicate) {\n    const result = [];\n    for (const item of toIterable(input)) {\n        if (predicate(item)) {\n            result.push(item);\n        }\n    }\n    return result;\n}\nexport function findInIterable(input, predicate) {\n    for (const item of toIterable(input)) {\n        if (predicate(item)) {\n            return item;\n        }\n    }\n}\nexport function hasInIterable(input, expected) {\n    if (input instanceof Set) {\n        return input.has(expected);\n    }\n    for (const item of toIterable(input)) {\n        if (item === expected) {\n            return true;\n        }\n    }\n    return false;\n}\n", "import { isPropertyInfoSymbol } from \"../shared/index.js\";\nimport { beforeSendObjectToClient, beforeSendPropertyToClient, beforeExecuteOnClient, getTrackableTypeInfo, nothing } from \"./decorators.js\";\nimport { ensureObjectSyncMetaInfo } from \"../shared/objectSyncMetaInfo.js\";\nimport { invokeOnConvertedToTrackable, invokeOnTick } from \"./interfaces.js\";\nimport { hasInIterable, toIterable } from \"../shared/types.js\";\nimport { ObjectInfoBase } from \"../shared/objectInfoBase.js\";\nlet nextInvokeId = 0;\nfunction isForClientConnection(clientConnection, filter) {\n    let hasDesignation = filter.designations === undefined || clientConnection.identity === undefined;\n    if (!hasDesignation) {\n        hasDesignation = hasInIterable(filter.designations, clientConnection.identity);\n    }\n    let hasClientConnection = filter.clients === undefined;\n    if (!hasClientConnection) {\n        hasClientConnection = hasInIterable(filter.clients, clientConnection);\n    }\n    return filter.isExclusive === (hasDesignation && hasClientConnection);\n}\nexport class ChangeTrackerObjectInfo extends ObjectInfoBase {\n    _tracker;\n    _isRootObject;\n    _objectIdPrefix;\n    static create(settings) {\n        if (!settings.object || typeof settings.object !== \"object\")\n            return null;\n        const trackableTypeInfo = getTrackableTypeInfo(settings.object.constructor);\n        if (!trackableTypeInfo)\n            return null;\n        const metaInfo = ensureObjectSyncMetaInfo(settings);\n        if (!metaInfo) {\n            throw new Error(\"Failed to create HostObjectInfo: unable to ensure ObjectSyncMetaInfo.\");\n        }\n        if (metaInfo.trackerInfo)\n            return metaInfo.trackerInfo;\n        metaInfo.trackerInfo = new ChangeTrackerObjectInfo(metaInfo, settings.owner, settings.isRoot, settings.objectIdPrefix);\n        invokeOnConvertedToTrackable(metaInfo.object, metaInfo.trackerInfo);\n        trackableTypeInfo.trackedProperties.forEach((propertyInfo, key) => {\n            metaInfo.trackerInfo.onPropertyChanged(key, settings.object[key]);\n        });\n        return metaInfo.trackerInfo;\n    }\n    _changeSet = {};\n    _methodInvokeCalls = [];\n    _pendingMethodInvokeCalls = new Map();\n    _clientFilters = null;\n    _clients = new Set();\n    _invokeProxy = null;\n    _lastMethodCallResult = null;\n    constructor(objectSyncMetaInfo, _tracker, _isRootObject, _objectIdPrefix) {\n        super(objectSyncMetaInfo);\n        this._tracker = _tracker;\n        this._isRootObject = _isRootObject;\n        this._objectIdPrefix = _objectIdPrefix;\n    }\n    get tracker() {\n        return this._tracker;\n    }\n    get clients() {\n        return this._clients;\n    }\n    get isRootObject() {\n        return this._isRootObject;\n    }\n    set isRootObject(value) {\n        this._isRootObject = value;\n    }\n    get properties() {\n        return this._changeSet;\n    }\n    get invokeProxy() {\n        return (this._invokeProxy ??= new Proxy(this.object, {\n            get: (obj, prop) => {\n                const value = obj[prop];\n                if (typeof value === \"function\" && typeof prop === \"string\") {\n                    return (...args) => {\n                        return this.invoke(prop, ...args);\n                    };\n                }\n                return value;\n            },\n        }));\n    }\n    isForClient(client) {\n        if (!this._clientFilters)\n            return true;\n        const filter = this._clientFilters;\n        return isForClientConnection(client, filter);\n    }\n    removeClientRestrictions() {\n        this._clientFilters = null;\n    }\n    setClientRestriction(filter) {\n        this._clientFilters = {\n            clients: filter.clients ? toIterable(filter.clients, true) : undefined,\n            designations: filter.designations ? toIterable(filter.designations, true) : undefined,\n            isExclusive: filter.isExclusive ?? true,\n        };\n    }\n    onPropertyChanged(key, value) {\n        let current = this._changeSet[key];\n        if (!current) {\n            current = { hasPendingChanges: true, value };\n            this._changeSet[key] = current;\n            return;\n        }\n        if (current.value === value)\n            return;\n        current.value = value;\n        current.hasPendingChanges = true;\n    }\n    createPropertyInfo(value) {\n        const trackable = this.convertToTrackableObjectReference(value);\n        const paramInfo = {\n            value: value,\n            objectId: trackable?.objectSyncMetaInfo.objectId,\n            [isPropertyInfoSymbol]: true,\n        };\n        return paramInfo;\n    }\n    onMethodExecute(method, parameters) {\n        const message = {\n            type: \"execute\",\n            id: nextInvokeId++,\n            objectId: this.objectId,\n            parameters,\n            method: method,\n        };\n        this._methodInvokeCalls.push(message);\n        let onRemainingClientsResolved;\n        const result = new Promise((resolve) => {\n            onRemainingClientsResolved = resolve;\n        });\n        this._pendingMethodInvokeCalls.set(message.id, {\n            id: message.id,\n            resultByClient: new Map(),\n            remainingClients: [],\n            result,\n            onRemainingClientsResolved: onRemainingClientsResolved,\n        });\n        this._lastMethodCallResult = result;\n        return result;\n    }\n    getInvokeResults(method) {\n        const result = this._lastMethodCallResult;\n        this._lastMethodCallResult = null;\n        return result;\n    }\n    invoke(method, ...args) {\n        const hostResult = this.object[method](...args);\n        const clientResults = this.getInvokeResults(method);\n        return { clientResults, hostResult };\n    }\n    onClientMethodExecuteResultReceived(methodExecuteResult, client) {\n        const pendingCall = this._pendingMethodInvokeCalls.get(methodExecuteResult.id);\n        if (!pendingCall)\n            return;\n        if (this.clients.has(client)) {\n            pendingCall.resultByClient.set(client, new Promise((resolve, reject) => {\n                if (methodExecuteResult.status === \"resolved\") {\n                    resolve(methodExecuteResult.result);\n                }\n                else {\n                    reject(methodExecuteResult.error);\n                }\n            }));\n        }\n        pendingCall.remainingClients = pendingCall.remainingClients.filter((c) => c !== client);\n        if (pendingCall.remainingClients.length === 0) {\n            this._pendingMethodInvokeCalls.delete(methodExecuteResult.id);\n            pendingCall.onRemainingClientsResolved(pendingCall.resultByClient);\n        }\n    }\n    convertToTrackableObjectReference(target) {\n        if (target && typeof target === \"object\") {\n            return ChangeTrackerObjectInfo.create({\n                object: target,\n                isRoot: false,\n                objectIdPrefix: this._objectIdPrefix,\n                owner: this.tracker,\n            });\n        }\n        return null;\n    }\n    getCreateMessage(client) {\n        const typeIdOrNothing = beforeSendObjectToClient(this.object.constructor, this.object, this.typeId, client);\n        if (typeIdOrNothing === nothing)\n            return null;\n        const typeId = typeIdOrNothing;\n        const result = {\n            type: \"create\",\n            objectId: this.objectId,\n            typeId,\n            properties: this.getProperties(client, false),\n        };\n        return result;\n    }\n    getDeleteMessage() {\n        const result = {\n            type: \"delete\",\n            objectId: this.objectId,\n        };\n        return result;\n    }\n    onClientRemoved(clientConnection) {\n        this.clients.delete(clientConnection);\n        this.cancelPendingMethodCalls(clientConnection);\n    }\n    cancelPendingMethodCalls(clientConnection) {\n        this._pendingMethodInvokeCalls.forEach((pendingCall) => {\n            pendingCall.remainingClients.forEach((client) => {\n                if (clientConnection && client !== clientConnection)\n                    return;\n                this.onClientMethodExecuteResultReceived({\n                    id: pendingCall.id,\n                    status: \"rejected\",\n                    error: new Error(\"Object deleted before method could be executed\"),\n                    objectId: this.objectId,\n                    result: undefined,\n                }, client);\n            });\n        });\n    }\n    getChangeMessage(client) {\n        if (!this.clients.has(client)) {\n            return null;\n        }\n        const properties = this.getProperties(client, true);\n        if (Object.keys(properties).length === 0)\n            return null;\n        const result = {\n            type: \"change\",\n            objectId: this.objectId,\n            properties,\n        };\n        return result;\n    }\n    getExecuteMessages(client) {\n        const result = [];\n        if (!this.clients.has(client)) {\n            return result;\n        }\n        for (const methodExecuteCall of this._methodInvokeCalls) {\n            const args = methodExecuteCall.parameters.slice();\n            if (beforeExecuteOnClient(this.object.constructor, this.object, methodExecuteCall.method, args, client) === false) {\n                continue;\n            }\n            result.push({\n                ...methodExecuteCall,\n                parameters: args.map((arg) => this.createPropertyInfo(arg)),\n            });\n        }\n        return result;\n    }\n    getProperties(client, includeChangedOnly) {\n        const result = {};\n        Object.keys(this._changeSet).forEach((key) => {\n            let propertyStateInfo = this._changeSet[key];\n            if (includeChangedOnly && !propertyStateInfo.hasPendingChanges)\n                return;\n            const finalValue = beforeSendPropertyToClient(this.object.constructor, this.object, key, propertyStateInfo.value, client);\n            if (finalValue === nothing)\n                return;\n            const propertyInfo = this.createPropertyInfo(finalValue);\n            const clientPropertyInfo = this.serializePropertyInfo(propertyInfo);\n            if (clientPropertyInfo)\n                result[key] = clientPropertyInfo;\n        });\n        return result;\n    }\n    serializePropertyInfo(propertyInfo) {\n        let clientPropertyInfo = {\n            objectId: propertyInfo.objectId,\n            value: propertyInfo.value,\n            [isPropertyInfoSymbol]: true,\n        };\n        if (propertyInfo.objectId === undefined && propertyInfo.objectId === null) {\n            delete clientPropertyInfo.objectId;\n        }\n        if (clientPropertyInfo.value && clientPropertyInfo.objectId === undefined && typeof clientPropertyInfo.value === \"object\") {\n            const serializedValue = this.serializeValue(clientPropertyInfo.value);\n            if (serializedValue === null) {\n                clientPropertyInfo.value = clientPropertyInfo.value;\n            }\n            else {\n                clientPropertyInfo.value = serializedValue.value;\n                clientPropertyInfo.typeId = serializedValue.typeId;\n            }\n        }\n        return clientPropertyInfo;\n    }\n    serializeValue(value) {\n        return this.tracker.serializeValue(value, this);\n    }\n    tick() {\n        Object.keys(this._changeSet).forEach((key) => {\n            const propertyInfo = this._changeSet[key];\n            propertyInfo.hasPendingChanges = false;\n        });\n        this._methodInvokeCalls.length = 0;\n        invokeOnTick(this.objectSyncMetaInfo.object);\n    }\n}\n", "import { isPropertyInfo } from \"../shared/index.js\";\nimport { getTrackerObjectInfo } from \"../shared/objectSyncMetaInfo.js\";\nimport { forEachIterable } from \"../shared/types.js\";\nimport { ChangeTrackerObjectInfo } from \"./trackerObjectInfo.js\";\nexport class ObjectChangeTracker {\n    _trackedObjectPool;\n    _clients = new Set();\n    _serializers = new Map();\n    _nativeTypeSerializers = [];\n    _settings;\n    constructor(settings) {\n        this._settings = {\n            identity: settings.identity,\n            objectIdPrefix: settings.objectIdPrefix,\n        };\n        this._trackedObjectPool = settings.objectPool;\n        settings.typeSerializers.forEach((gen, typeId) => {\n            const serializer = gen;\n            serializer.typeId = serializer.typeId ?? typeId;\n            this.registerSerializer(serializer);\n        });\n        this._nativeTypeSerializers = settings.nativeTypeSerializers;\n    }\n    get settings() {\n        return this._settings;\n    }\n    registerSerializer(serializer) {\n        if (this._serializers.has(serializer.type)) {\n            throw new Error(`Serializer for typeId ${serializer.typeId} is already registered`);\n        }\n        this._serializers.set(serializer.type, serializer);\n    }\n    get identity() {\n        return this._settings.identity;\n    }\n    get allTrackedObjects() {\n        return this._trackedObjectPool.all;\n    }\n    registerClient(settings) {\n        const clientToken = JSON.parse(JSON.stringify(settings));\n        this._clients.add(clientToken);\n        return clientToken;\n    }\n    removeClient(client) {\n        if (!this._clients.has(client)) {\n            throw new Error(\"Unknown client token\");\n        }\n        this._trackedObjectPool.all.forEach((obj) => {\n            const hostObjectInfo = getTrackerObjectInfo(obj);\n            hostObjectInfo.onClientRemoved(client);\n        });\n        this._clients.delete(client);\n    }\n    setClientRestriction(obj, filter) {\n        const tracked = getTrackerObjectInfo(obj);\n        if (!tracked)\n            throw new Error(\"Object is not tracked\");\n        tracked.setClientRestriction(filter);\n    }\n    track(target, trackSettings) {\n        this.trackInternal(target, trackSettings);\n    }\n    trackInternal(target, trackSettings) {\n        if (!target)\n            return null;\n        const isRoot = trackSettings?.isRoot !== false;\n        let hostObjectInfo = getTrackerObjectInfo(target);\n        if (!hostObjectInfo) {\n            const creationSettings = {\n                objectId: trackSettings?.objectId,\n                isRoot,\n                object: target,\n                objectIdPrefix: this._settings.objectIdPrefix,\n                owner: this,\n            };\n            hostObjectInfo = getTrackerObjectInfo(target) ?? ChangeTrackerObjectInfo.create(creationSettings);\n            if (!hostObjectInfo)\n                return null;\n            if (!this._trackedObjectPool.has(target))\n                this._trackedObjectPool.add(target);\n            if (trackSettings?.clientVisibility) {\n                this.setClientRestriction(target, trackSettings.clientVisibility);\n            }\n        }\n        else {\n            if (!this._trackedObjectPool.has(target))\n                this._trackedObjectPool.add(target);\n        }\n        if (trackSettings?.knownClients) {\n            const clients = hostObjectInfo.clients;\n            if (clients) {\n                forEachIterable(trackSettings.knownClients, (client) => {\n                    clients.add(client);\n                });\n            }\n        }\n        return hostObjectInfo;\n    }\n    untrack(target) {\n        this.untrackInternal(target, true);\n    }\n    untrackInternal(target, throwWhenNotTracked) {\n        const hostObjectInfo = getTrackerObjectInfo(target);\n        if (!this._trackedObjectPool.has(target) || !hostObjectInfo) {\n            if (throwWhenNotTracked) {\n                throw new Error(\"Object is not tracked\");\n            }\n            return false;\n        }\n        hostObjectInfo.isRootObject = false;\n        return true;\n    }\n    getMessages(clientOrClients) {\n        clientOrClients ??= this._clients;\n        const result = new Map();\n        forEachIterable(clientOrClients, (client) => {\n            const initialTrackedObjects = this._trackedObjectPool.allMetaInfos.filter((o) => o.trackerInfo?.isRootObject).map((o) => o.object);\n            const allTrackedObjectsForClient = this._trackedObjectPool.allMetaInfos.filter((o) => o.trackerInfo?.clients.has(client)).map((o) => o.object);\n            const objectsToVisit = new Set([...initialTrackedObjects]);\n            let messages = [];\n            for (const obj of objectsToVisit) {\n                this.gatherMessagesForObjectGraph({\n                    object: obj,\n                    client,\n                    objectsToVisit,\n                    messages,\n                });\n            }\n            const noLongerTrackedByClient = allTrackedObjectsForClient.filter((o) => {\n                if (objectsToVisit.has(o))\n                    return false;\n                return true;\n            });\n            for (const obj of noLongerTrackedByClient) {\n                const hostObjectInfo = getTrackerObjectInfo(obj);\n                if (!hostObjectInfo)\n                    continue;\n                hostObjectInfo.onClientRemoved(client);\n                messages.push(hostObjectInfo.getDeleteMessage());\n            }\n            result.set(client, messages);\n        });\n        return result;\n    }\n    gatherMessagesForObjectGraph(args) {\n        const hostObjectInfo = getTrackerObjectInfo(args.object);\n        if (!hostObjectInfo)\n            return;\n        if (!hostObjectInfo?.isForClient(args.client))\n            return;\n        const isKnownToClient = hostObjectInfo.clients.has(args.client);\n        const subMessages = [];\n        if (!isKnownToClient) {\n            const createMessage = hostObjectInfo.getCreateMessage(args.client);\n            if (createMessage !== null) {\n                hostObjectInfo.clients.add(args.client);\n                subMessages.push(createMessage);\n            }\n        }\n        else {\n            const updateMessage = hostObjectInfo.getChangeMessage(args.client);\n            if (updateMessage !== null) {\n                subMessages.push(updateMessage);\n            }\n        }\n        const executeMessages = hostObjectInfo.getExecuteMessages(args.client);\n        subMessages.push(...executeMessages);\n        args.messages.push(...subMessages);\n        for (const message of subMessages) {\n            this.gatherSubTrackablesForGraphFromMessage(message, args);\n        }\n    }\n    gatherSubTrackablesForGraphFromMessage(message, args) {\n        let valuesToScan = [];\n        if (message.type === \"create\" || message.type === \"change\") {\n            const properties = message.properties;\n            Object.values(properties).map((propertyInfo) => {\n                if (propertyInfo)\n                    valuesToScan.push(propertyInfo);\n            });\n        }\n        else if (message.type === \"execute\") {\n            const parameters = message.parameters;\n            Object.values(parameters).map((parameterInfo) => {\n                if (parameterInfo)\n                    valuesToScan.push(parameterInfo);\n            });\n        }\n        for (const propertyInfo of valuesToScan) {\n            this.gatherSubTrackablesForGraphFromValue(propertyInfo, args);\n            if (propertyInfo.objectId && propertyInfo.value) {\n                args.objectsToVisit.add(propertyInfo.value);\n                delete propertyInfo.value;\n            }\n        }\n    }\n    gatherSubTrackablesForGraphFromValue(data, args, visitedValues = new Set()) {\n        if (data === undefined || data === null || typeof data !== \"object\" || visitedValues.has(data))\n            return;\n        visitedValues.add(data);\n        if (isPropertyInfo(data)) {\n            const isTrackable = data.objectId && data.value !== undefined;\n            const isUntrackableObjectOrArray = !isTrackable && data.value && typeof data.value === \"object\";\n            if (isTrackable) {\n                this.trackInternal(data.value, { isRoot: false });\n                args.objectsToVisit.add(data.value);\n                delete data.value;\n            }\n            else if (isUntrackableObjectOrArray) {\n                this.gatherSubTrackablesForGraphFromValue(data.value, args, visitedValues);\n            }\n        }\n        else if (Array.isArray(data)) {\n            data.forEach((value) => {\n                if (!value || typeof value !== \"object\")\n                    return;\n                this.gatherSubTrackablesForGraphFromValue(value, args, visitedValues);\n            });\n        }\n        else {\n            Object.keys(data).forEach((key) => {\n                const value = data[key];\n                if (!value || typeof value !== \"object\")\n                    return;\n                this.gatherSubTrackablesForGraphFromValue(value, args, visitedValues);\n            });\n        }\n    }\n    applyClientMethodInvokeResults(client, methodExecuteResults) {\n        for (const result of methodExecuteResults) {\n            const tracked = this._trackedObjectPool.get(result.objectId);\n            if (!tracked)\n                continue;\n            const hostObjectInfo = getTrackerObjectInfo(tracked);\n            hostObjectInfo?.onClientMethodExecuteResultReceived(result, client);\n        }\n    }\n    tick() {\n        this._trackedObjectPool.allMetaInfos.forEach((meta) => {\n            const hostObjectInfo = meta.trackerInfo;\n            if (!hostObjectInfo)\n                return;\n            if (!hostObjectInfo.isRootObject && hostObjectInfo.clients.size === 0) {\n                meta.trackerInfo?.onClientRemoved;\n                this._trackedObjectPool.deleteById(meta.objectId);\n                return;\n            }\n            hostObjectInfo.tick();\n        });\n    }\n    serializeValue(value, trackerInfo) {\n        let serializer = this._serializers.get(value.constructor) ?? this._nativeTypeSerializers.find((g) => value instanceof g.type);\n        if (!serializer) {\n            return null;\n        }\n        return {\n            value: serializer.serialize\n                ? serializer.serialize(value, trackerInfo)\n                : \"toJSON\" in value && typeof value.toJSON === \"function\"\n                    ? value.toJSON()\n                    : \"toValue\" in value && typeof value.toValue === \"function\"\n                        ? value.toValue()\n                        : value,\n            typeId: serializer.typeId,\n        };\n    }\n}\n", "import { mapIterable } from \"./types.js\";\nexport const nativeArraySerializer = {\n    type: Array,\n    typeId: \"<NativeArray>\",\n    serialize(instance, trackerInfo) {\n        return mapIterable(instance, (value) => {\n            const propertyInfo = trackerInfo.serializePropertyInfo(trackerInfo.createPropertyInfo(value));\n            return propertyInfo;\n        });\n    },\n    deserialize(value, applicator, clientConnection) {\n        return value.map((item) => {\n            return applicator.getPropertyValue(item, clientConnection);\n        });\n    },\n};\nexport const nativeMapSerializer = {\n    type: Map,\n    typeId: \"<NativeMap>\",\n    serialize(instance, trackerInfo) {\n        const result = {};\n        for (const [key, value] of instance.entries()) {\n            const propertyInfo = trackerInfo.serializePropertyInfo(trackerInfo.createPropertyInfo(value));\n            result[key] = propertyInfo;\n        }\n        return result;\n    },\n    deserialize(value, applicator, clientConnection) {\n        const result = new Map();\n        for (const [key, item] of Object.entries(value)) {\n            result.set(key, applicator.getPropertyValue(item, clientConnection));\n        }\n        return result;\n    },\n};\nexport const nativeSetSerializer = {\n    type: Set,\n    typeId: \"<NativeSet>\",\n    serialize(instance, trackerInfo) {\n        const result = [];\n        for (const value of instance.values()) {\n            const propertyInfo = trackerInfo.serializePropertyInfo(trackerInfo.createPropertyInfo(value));\n            result.push(propertyInfo);\n        }\n        return result;\n    },\n    deserialize(value, applicator, clientConnection) {\n        const result = new Set();\n        for (const item of value) {\n            result.add(applicator.getPropertyValue(item, clientConnection));\n        }\n        return result;\n    },\n};\nexport const nativeObjectSerializer = {\n    type: Object,\n    typeId: \"<NativeObject>\",\n    serialize(instance, trackerInfo) {\n        const result = {};\n        for (const [key, value] of Object.entries(instance)) {\n            const propertyInfo = trackerInfo.createPropertyInfo(value);\n            result[key] = propertyInfo;\n        }\n        return result;\n    },\n    deserialize(value, applicator, clientConnection) {\n        const result = {};\n        for (const [key, item] of Object.entries(value)) {\n            result[key] = applicator.getPropertyValue(item, clientConnection);\n        }\n        return result;\n    },\n};\nexport const nativeTypeSerializers = [nativeSetSerializer, nativeMapSerializer, nativeArraySerializer, nativeObjectSerializer];\n", "import { ObjectChangeTracker } from \"../tracker/tracker.js\";\nimport { allTypeGenerators, ObjectChangeApplicator } from \"../applicator/applicator.js\";\nimport { TrackedObjectPool } from \"../shared/trackedObjectPool.js\";\nimport { isIterable } from \"../shared/types.js\";\nimport { getTrackableTypeInfo } from \"../tracker/decorators.js\";\nimport { getTrackerObjectInfo } from \"../index.js\";\nimport { nativeTypeSerializers } from \"../shared/nativeTypeGenerators.js\";\nexport class ObjectSync {\n    _tracker;\n    _applicator;\n    _settings;\n    _objectPool;\n    constructor(settings) {\n        this._settings = {\n            identity: settings.identity,\n            objectIdPrefix: settings.objectIdPrefix ?? `${settings.identity}-${Date.now()}-`,\n            typeGenerators: new Map(),\n            typeSerializers: new Map(),\n            nativeTypeSerializers: settings.nativeTypeSerializers ?? nativeTypeSerializers,\n        };\n        if (Array.isArray(settings.typeGenerators)) {\n            for (const constructor of settings.typeGenerators) {\n                const trackableTypeInfo = getTrackableTypeInfo(constructor);\n                this._settings.typeGenerators.set(trackableTypeInfo?.typeId ?? constructor.name, constructor);\n            }\n        }\n        else if (settings.typeGenerators)\n            this._settings.typeGenerators = settings.typeGenerators;\n        else\n            this._settings.typeGenerators = new Map(allTypeGenerators);\n        if (Array.isArray(settings.typeSerializers)) {\n            for (const serializer of settings.typeSerializers) {\n                this._settings.typeSerializers.set(serializer.typeId ?? serializer.type.name, serializer);\n            }\n        }\n        else if (settings.typeSerializers)\n            this._settings.typeSerializers = settings.typeSerializers;\n        this._objectPool = new TrackedObjectPool();\n        this._tracker = new ObjectChangeTracker({\n            objectPool: this._objectPool,\n            ...this._settings,\n        });\n        this._applicator = new ObjectChangeApplicator({\n            objectPool: this._objectPool,\n            ...this._settings,\n        });\n    }\n    getMessages(clientOrClientsOrCallTick, callTick = true) {\n        let result;\n        let clients;\n        if (typeof clientOrClientsOrCallTick === \"boolean\" || clientOrClientsOrCallTick === undefined) {\n            clients = undefined;\n            callTick = clientOrClientsOrCallTick ?? true;\n        }\n        else if (!isIterable(clientOrClientsOrCallTick)) {\n            clients = clientOrClientsOrCallTick;\n        }\n        result = this._tracker.getMessages(clients);\n        if (callTick)\n            this._tracker.tick();\n        if (clients === undefined || isIterable(clients))\n            return result;\n        return result.get(clients);\n    }\n    tick() {\n        this._tracker.tick();\n    }\n    applyAsync(messages, clientConnection) {\n        return this._applicator.applyAsync(messages, clientConnection);\n    }\n    applyClientMethodInvokeResults(resultsByClient) {\n        for (const [clientToken, results] of resultsByClient) {\n            this.applyClientMethodInvokeResultsFromClient(clientToken, results);\n        }\n    }\n    applyClientMethodInvokeResultsFromClient(clientConnection, results) {\n        this._tracker.applyClientMethodInvokeResults(clientConnection, results);\n    }\n    async applyMessagesAsync(messagesByClient) {\n        const resultsByClient = new Map();\n        for (const [clientConnection, messages] of messagesByClient) {\n            const methodExecuteResults = await this.applyMessagesFromClientAsync(clientConnection, messages);\n            resultsByClient.set(clientConnection, methodExecuteResults);\n        }\n        return resultsByClient;\n    }\n    async applyMessagesFromClientAsync(clientConnection, messages) {\n        const results = await this._applicator.applyAsync(messages, clientConnection);\n        for (const obj of results.newTrackedObjects) {\n            this._tracker.track(obj, {\n                knownClients: clientConnection,\n            });\n        }\n        return results.methodExecuteResults;\n    }\n    async exchangeMessagesAsync(sendToClientAsync, errorHandler) {\n        const messages = this.getMessages();\n        const resultsByClient = new Map();\n        const allPromises = [];\n        for (const [clientToken, clientMessages] of messages) {\n            const methodInvokeResults = sendToClientAsync(clientToken, clientMessages);\n            allPromises.push(methodInvokeResults);\n            resultsByClient.set(clientToken, methodInvokeResults);\n        }\n        await Promise.allSettled(allPromises);\n        for (const [clientToken, resultsPromise] of resultsByClient) {\n            try {\n                const results = await resultsPromise;\n                this._tracker.applyClientMethodInvokeResults(clientToken, results);\n            }\n            catch (error) {\n                if (errorHandler) {\n                    errorHandler(clientToken, error);\n                }\n            }\n        }\n    }\n    async exchangeMessagesBulkAsync(sendToClientsAsync, errorHandler) {\n        const messages = this.getMessages();\n        const resultsByClient = await sendToClientsAsync(messages);\n        for (const [clientToken, resultsPromise] of resultsByClient) {\n            try {\n                const results = await resultsPromise;\n                this._tracker.applyClientMethodInvokeResults(clientToken, results);\n            }\n            catch (error) {\n                if (errorHandler) {\n                    errorHandler(clientToken, error);\n                }\n            }\n        }\n    }\n    registerSerializer(serializer) {\n        this._tracker.registerSerializer(serializer);\n    }\n    get identity() {\n        return this._settings.identity;\n    }\n    get allTrackedObjects() {\n        return this._tracker.allTrackedObjects;\n    }\n    registerClient(settings) {\n        return this._tracker.registerClient(settings);\n    }\n    removeClient(client) {\n        this._tracker.removeClient(client);\n    }\n    track(target, trackSettings) {\n        this._tracker.track(target, trackSettings);\n    }\n    untrack(target) {\n        this._tracker.untrack(target);\n    }\n    setClientRestriction(obj, filter) {\n        this._tracker.setClientRestriction(obj, filter);\n    }\n    registerGenerator(typeId, generator) {\n        this._applicator.registerGenerator(typeId, generator);\n    }\n    findObjectOfType(constructor, objectId) {\n        return this._applicator.findObjectOfType(constructor, objectId);\n    }\n    findObjectsOfType(constructor) {\n        return this._applicator.findObjectsOfType(constructor);\n    }\n    getInvokeProxy(target) {\n        if (!this._objectPool.has(target)) {\n            this._tracker.track(target, { isRoot: false });\n        }\n        const meta = getTrackerObjectInfo(target);\n        if (!meta) {\n            throw new Error(\"Target object is not tracked and cannot be proxied.\");\n        }\n        return meta.invokeProxy;\n    }\n    invoke(target, method, ...args) {\n        if (!this._objectPool.has(target)) {\n            this._tracker.track(target, { isRoot: false });\n        }\n        const meta = getTrackerObjectInfo(target);\n        if (!meta) {\n            throw new Error(\"Target object is not tracked and cannot be proxied.\");\n        }\n        return meta.invoke(method, ...args);\n    }\n}\n"],
  "mappings": "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",
  "names": ["syncProperty", "syncMethod", "syncObject", "SyncableArray", "__esDecorate", "__runInitializers", "SyncableObservableArray"]
}
